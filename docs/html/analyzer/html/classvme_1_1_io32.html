<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DRAGON Analyzer: vme::Io32 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DRAGON Analyzer
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacevme.html">vme</a></li><li class="navelem"><a class="el" href="classvme_1_1_io32.html">Io32</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classvme_1_1_io32-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">vme::Io32 Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_vme_8hxx_source.html">Vme.hxx</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:structvme_1_1_io32_1_1_tsc4"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvme_1_1_io32.html#structvme_1_1_io32_1_1_tsc4">Tsc4</a></td></tr>
<tr class="memdesc:structvme_1_1_io32_1_1_tsc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encloses TSC4 data.  <a href="classvme_1_1_io32.html#structvme_1_1_io32_1_1_tsc4">More...</a><br /></td></tr>
<tr class="separator:structvme_1_1_io32_1_1_tsc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4fca3226443a0e7685eb0b8678431184"><td class="memItemLeft" align="right" valign="top"><a id="a4fca3226443a0e7685eb0b8678431184"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvme_1_1_io32.html#a4fca3226443a0e7685eb0b8678431184">Io32</a> ()</td></tr>
<tr class="memdesc:a4fca3226443a0e7685eb0b8678431184"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls <a class="el" href="classvme_1_1_io32.html#a1e5c7fca1b188a8b2bb76f8a92020c3d" title="Set all data fields to default values (== 0).">reset()</a> <br /></td></tr>
<tr class="separator:a4fca3226443a0e7685eb0b8678431184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ad58ad4cbe7816e2bbc1842d902fb06"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvme_1_1_io32.html#a1ad58ad4cbe7816e2bbc1842d902fb06">unpack</a> (const <a class="el" href="classmidas_1_1_event.html">midas::Event</a> &amp;event, const char *bankName, bool reportMissing=false)</td></tr>
<tr class="memdesc:a1ad58ad4cbe7816e2bbc1842d902fb06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unpack all data from the io32 main bank.  <a href="#a1ad58ad4cbe7816e2bbc1842d902fb06">More...</a><br /></td></tr>
<tr class="separator:a1ad58ad4cbe7816e2bbc1842d902fb06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e5c7fca1b188a8b2bb76f8a92020c3d"><td class="memItemLeft" align="right" valign="top"><a id="a1e5c7fca1b188a8b2bb76f8a92020c3d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvme_1_1_io32.html#a1e5c7fca1b188a8b2bb76f8a92020c3d">reset</a> ()</td></tr>
<tr class="memdesc:a1e5c7fca1b188a8b2bb76f8a92020c3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set all data fields to default values (== 0). <br /></td></tr>
<tr class="separator:a1e5c7fca1b188a8b2bb76f8a92020c3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a217e3764cd6e767a46c0c4edb1dddd11"><td class="memItemLeft" align="right" valign="top"><a id="a217e3764cd6e767a46c0c4edb1dddd11"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvme_1_1_io32.html#a217e3764cd6e767a46c0c4edb1dddd11">header</a></td></tr>
<tr class="memdesc:a217e3764cd6e767a46c0c4edb1dddd11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Header and version. <br /></td></tr>
<tr class="separator:a217e3764cd6e767a46c0c4edb1dddd11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15bc378ea2505fc31eaece00eaacb64a"><td class="memItemLeft" align="right" valign="top"><a id="a15bc378ea2505fc31eaece00eaacb64a"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvme_1_1_io32.html#a15bc378ea2505fc31eaece00eaacb64a">trig_count</a></td></tr>
<tr class="memdesc:a15bc378ea2505fc31eaece00eaacb64a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event number, counting from 0. <br /></td></tr>
<tr class="separator:a15bc378ea2505fc31eaece00eaacb64a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97ce250a06c78b44dff02e3afec5a8b7"><td class="memItemLeft" align="right" valign="top"><a id="a97ce250a06c78b44dff02e3afec5a8b7"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvme_1_1_io32.html#a97ce250a06c78b44dff02e3afec5a8b7">tstamp</a></td></tr>
<tr class="memdesc:a97ce250a06c78b44dff02e3afec5a8b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger timestamp. <br /></td></tr>
<tr class="separator:a97ce250a06c78b44dff02e3afec5a8b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a974bcc9c0a1868ad06ec134d4b5984dd"><td class="memItemLeft" align="right" valign="top"><a id="a974bcc9c0a1868ad06ec134d4b5984dd"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvme_1_1_io32.html#a974bcc9c0a1868ad06ec134d4b5984dd">start</a></td></tr>
<tr class="memdesc:a974bcc9c0a1868ad06ec134d4b5984dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Readout start time. <br /></td></tr>
<tr class="separator:a974bcc9c0a1868ad06ec134d4b5984dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cc3e0f1eee3797fb1deaa6cd68506c7"><td class="memItemLeft" align="right" valign="top"><a id="a0cc3e0f1eee3797fb1deaa6cd68506c7"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvme_1_1_io32.html#a0cc3e0f1eee3797fb1deaa6cd68506c7">end</a></td></tr>
<tr class="memdesc:a0cc3e0f1eee3797fb1deaa6cd68506c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Readout end time. <br /></td></tr>
<tr class="separator:a0cc3e0f1eee3797fb1deaa6cd68506c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9253b3f2bcc4975037268d1957a0a2f"><td class="memItemLeft" align="right" valign="top"><a id="ad9253b3f2bcc4975037268d1957a0a2f"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvme_1_1_io32.html#ad9253b3f2bcc4975037268d1957a0a2f">latency</a></td></tr>
<tr class="memdesc:ad9253b3f2bcc4975037268d1957a0a2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger latency. <br /></td></tr>
<tr class="separator:ad9253b3f2bcc4975037268d1957a0a2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2491656da7698aaafcf60e90bbe7c02c"><td class="memItemLeft" align="right" valign="top"><a id="a2491656da7698aaafcf60e90bbe7c02c"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvme_1_1_io32.html#a2491656da7698aaafcf60e90bbe7c02c">read_time</a></td></tr>
<tr class="memdesc:a2491656da7698aaafcf60e90bbe7c02c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Readout elapsed time. <br /></td></tr>
<tr class="separator:a2491656da7698aaafcf60e90bbe7c02c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a713420ee4e829255e8e8abd4e76de4f2"><td class="memItemLeft" align="right" valign="top"><a id="a713420ee4e829255e8e8abd4e76de4f2"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvme_1_1_io32.html#a713420ee4e829255e8e8abd4e76de4f2">busy_time</a></td></tr>
<tr class="memdesc:a713420ee4e829255e8e8abd4e76de4f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Busy elapsed time. <br /></td></tr>
<tr class="separator:a713420ee4e829255e8e8abd4e76de4f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01f1f169efce864f5e4617ead72e2d6a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvme_1_1_io32.html#a01f1f169efce864f5e4617ead72e2d6a">trigger_latch</a></td></tr>
<tr class="memdesc:a01f1f169efce864f5e4617ead72e2d6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dragon trigger latch code.  <a href="#a01f1f169efce864f5e4617ead72e2d6a">More...</a><br /></td></tr>
<tr class="separator:a01f1f169efce864f5e4617ead72e2d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa65ec8c6f032f74811288d5cc3bc6a36"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvme_1_1_io32.html#aa65ec8c6f032f74811288d5cc3bc6a36">which_trigger</a></td></tr>
<tr class="memdesc:aa65ec8c6f032f74811288d5cc3bc6a36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Which ECL input made the trigger?  <a href="#aa65ec8c6f032f74811288d5cc3bc6a36">More...</a><br /></td></tr>
<tr class="separator:aa65ec8c6f032f74811288d5cc3bc6a36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab81ba3d32d44f5b75e5046bd8be4fa03"><td class="memItemLeft" align="right" valign="top"><a id="ab81ba3d32d44f5b75e5046bd8be4fa03"></a>
<a class="el" href="classvme_1_1_io32.html#structvme_1_1_io32_1_1_tsc4">Tsc4</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvme_1_1_io32.html#ab81ba3d32d44f5b75e5046bd8be4fa03">tsc4</a></td></tr>
<tr class="memdesc:ab81ba3d32d44f5b75e5046bd8be4fa03"><td class="mdescLeft">&#160;</td><td class="mdescRight">TSC4 data. <br /></td></tr>
<tr class="separator:ab81ba3d32d44f5b75e5046bd8be4fa03"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p class="">IO32 FPGA </p>

<p class="definition">Definition at line <a class="el" href="_vme_8hxx_source.html#l00023">23</a> of file <a class="el" href="_vme_8hxx_source.html">Vme.hxx</a>.</p>
</div><hr/><h2 class="groupheader">Class Documentation</h2>
<a name="structvme_1_1_io32_1_1_tsc4" id="structvme_1_1_io32_1_1_tsc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structvme_1_1_io32_1_1_tsc4">&#9670;&nbsp;</a></span>vme::Io32::Tsc4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct vme::Io32::Tsc4</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p class="">Encloses TSC4 data. </p>

<p class="definition">Definition at line <a class="el" href="_vme_8hxx_source.html#l00058">58</a> of file <a class="el" href="_vme_8hxx_source.html">Vme.hxx</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a926b8da0c0b246eb9bd814d60e404dd8"></a>vector&lt; uint64_t &gt;</td>
<td class="fieldname">
fifo[4]</td>
<td class="fielddoc">
TSC FIFO data. </td></tr>
<tr><td class="fieldtype">
<a id="a2c41f966c8188b006f76f53ebeaa6d71"></a>int</td>
<td class="fieldname">
n_fifo[4]</td>
<td class="fielddoc">
Number of events in each FIFO channel. </td></tr>
<tr><td class="fieldtype">
<a id="a274476d2e26a81c23253da958346b574"></a>double</td>
<td class="fieldname">
trig_time</td>
<td class="fielddoc">
Trigger time in usec. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1ad58ad4cbe7816e2bbc1842d902fb06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ad58ad4cbe7816e2bbc1842d902fb06">&#9670;&nbsp;</a></span>unpack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool vme::Io32::unpack </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmidas_1_1_event.html">midas::Event</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>bankName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>reportMissing</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unpack all data from the io32 main bank. </p>
<p class="">Here is the portion of the MIDAS frontent where values are written to the "main" bank: </p><div class="fragment"><div class="line">*pdata32++ = 0xaaaa0020;           <span class="comment">// 0 - header and version</span></div><div class="line">*pdata32++ = <a class="code" href="classvme_1_1_io32.html#a15bc378ea2505fc31eaece00eaacb64a">trig_count</a>-1;         <span class="comment">// 1 - event number, counting from 0</span></div><div class="line">*pdata32++ = trig_time;            <span class="comment">// 2 - trigger timestamp</span></div><div class="line">*pdata32++ = start_time;           <span class="comment">// 3 - readout start time</span></div><div class="line">*pdata32++ = end_time;             <span class="comment">// 4 - readout end time</span></div><div class="line">*pdata32++ = start_time-trig_time; <span class="comment">// 5 - trigger latency (trigger time - start of readout time)</span></div><div class="line">*pdata32++ = end_time-start_time;  <span class="comment">// 6 - readout elapsed time</span></div><div class="line">*pdata32++ = end_time-trig_time;   <span class="comment">// 7 - busy elapsed time</span></div><div class="line">*pdata32++ = <a class="code" href="classvme_1_1_io32.html#a01f1f169efce864f5e4617ead72e2d6a">trigger_latch</a>         <span class="comment">// 8 - dragon trigger latch</span></div></div><!-- fragment --><p class="">The TSC4 bank is already unpacked in a <a class="el" href="classmidas_1_1_event.html" title="Derived class of TMidasEvent for timestamped dragon events.">midas::Event</a>, so we can just copy the data over </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>The midas event to unpack </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bankName</td><td>Name of the "main" IO32 bank </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the event was successfully unpacked, false otherwise</dd></dl>

<p class="definition">Definition at line <a class="el" href="_vme_8cxx_source.html#l00035">35</a> of file <a class="el" href="_vme_8cxx_source.html">Vme.cxx</a>.</p>

<p class="reference">References <a class="el" href="_error_dragon_8hxx_source.html#l00424">DRAGON_ERR_FILE_LINE</a>.</p>
<div class="fragment"><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;{<span class="comment"></span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">  /*! Here is the portion of the MIDAS frontent where values are written to the &quot;main&quot; bank:</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">   * \code</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">   * *pdata32++ = 0xaaaa0020;           // 0 - header and version</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">   * *pdata32++ = trig_count-1;         // 1 - event number, counting from 0</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">   * *pdata32++ = trig_time;            // 2 - trigger timestamp</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">   * *pdata32++ = start_time;           // 3 - readout start time</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">   * *pdata32++ = end_time;             // 4 - readout end time</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">   * *pdata32++ = start_time-trig_time; // 5 - trigger latency (trigger time - start of readout time)</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">   * *pdata32++ = end_time-start_time;  // 6 - readout elapsed time</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">   * *pdata32++ = end_time-trig_time;   // 7 - busy elapsed time</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">   * *pdata32++ = trigger_latch         // 8 - dragon trigger latch</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">   * \endcode</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">   * The TSC4 bank is already unpacked in a midas::Event, so we can just copy the data over</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">   * \param [in] event The midas event to unpack</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">   * \param [in] bankName Name of the &quot;main&quot; IO32 bank</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">   * \returns True if the event was successfully unpacked, false otherwise</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="keywordtype">int</span> bank_len;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> expected_bank_len = 9;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  uint32_t* pdata32 =</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keyword">event</span>.GetBankPointer&lt;uint32_t&gt;(bankName, &amp;bank_len, reportMissing, <span class="keyword">true</span>);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordflow">if</span> (!pdata32) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordflow">if</span> (bank_len != expected_bank_len) {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="classdragon_1_1utils_1_1_error.html">dutils::Error</a>(<span class="stringliteral">&quot;vme::Io32::unpack&quot;</span>, __FILE__, __LINE__) &lt;&lt;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <span class="stringliteral">&quot;Bank length: &quot;</span> &lt;&lt; bank_len &lt;&lt; <span class="stringliteral">&quot; != 8, skipping...&quot;</span> &lt;&lt; <a class="code" href="_error_dragon_8hxx.html#aa74444c31806f8cf45a7d7743d845106">DRAGON_ERR_FILE_LINE</a>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  }</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  uint32_t* data_fields[expected_bank_len]</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    = { &amp;<a class="code" href="classvme_1_1_io32.html#a217e3764cd6e767a46c0c4edb1dddd11">header</a>, &amp;<a class="code" href="classvme_1_1_io32.html#a15bc378ea2505fc31eaece00eaacb64a">trig_count</a>, &amp;<a class="code" href="classvme_1_1_io32.html#a97ce250a06c78b44dff02e3afec5a8b7">tstamp</a>, &amp;<a class="code" href="classvme_1_1_io32.html#a974bcc9c0a1868ad06ec134d4b5984dd">start</a>, &amp;<a class="code" href="classvme_1_1_io32.html#a0cc3e0f1eee3797fb1deaa6cd68506c7">end</a>,</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        &amp;<a class="code" href="classvme_1_1_io32.html#ad9253b3f2bcc4975037268d1957a0a2f">latency</a>, &amp;<a class="code" href="classvme_1_1_io32.html#a2491656da7698aaafcf60e90bbe7c02c">read_time</a>, &amp;<a class="code" href="classvme_1_1_io32.html#a713420ee4e829255e8e8abd4e76de4f2">busy_time</a>, &amp;<a class="code" href="classvme_1_1_io32.html#a01f1f169efce864f5e4617ead72e2d6a">trigger_latch</a> };</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt; bank_len; ++i) {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    *(data_fields[i]) = *pdata32++;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  }</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="comment">// Unpck TSC4 from midas::Event storage</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <a class="code" href="classvme_1_1_io32.html#ab81ba3d32d44f5b75e5046bd8be4fa03">tsc4</a>.<a class="code" href="classvme_1_1_io32.html#a274476d2e26a81c23253da958346b574">trig_time</a> = <span class="keyword">event</span>.TriggerTime();</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keyword">event</span>.CopyFifo(<a class="code" href="classvme_1_1_io32.html#ab81ba3d32d44f5b75e5046bd8be4fa03">tsc4</a>.<a class="code" href="classvme_1_1_io32.html#a926b8da0c0b246eb9bd814d60e404dd8">fifo</a>);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j&lt; 4; ++j)</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="classvme_1_1_io32.html#ab81ba3d32d44f5b75e5046bd8be4fa03">tsc4</a>.<a class="code" href="classvme_1_1_io32.html#a2c41f966c8188b006f76f53ebeaa6d71">n_fifo</a>[j] = <a class="code" href="classvme_1_1_io32.html#ab81ba3d32d44f5b75e5046bd8be4fa03">tsc4</a>.<a class="code" href="classvme_1_1_io32.html#a926b8da0c0b246eb9bd814d60e404dd8">fifo</a>[j].size();</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div><div class="ttc" id="classvme_1_1_io32_html_a2c41f966c8188b006f76f53ebeaa6d71"><div class="ttname"><a href="classvme_1_1_io32.html#a2c41f966c8188b006f76f53ebeaa6d71">vme::Io32::Tsc4::n_fifo</a></div><div class="ttdeci">int n_fifo[4]</div><div class="ttdoc">Number of events in each FIFO channel.</div><div class="ttdef"><b>Definition:</b> <a href="_vme_8hxx_source.html#l00060">Vme.hxx:60</a></div></div>
<div class="ttc" id="classvme_1_1_io32_html_a217e3764cd6e767a46c0c4edb1dddd11"><div class="ttname"><a href="classvme_1_1_io32.html#a217e3764cd6e767a46c0c4edb1dddd11">vme::Io32::header</a></div><div class="ttdeci">uint32_t header</div><div class="ttdoc">Header and version.</div><div class="ttdef"><b>Definition:</b> <a href="_vme_8hxx_source.html#l00034">Vme.hxx:34</a></div></div>
<div class="ttc" id="classvme_1_1_io32_html_a974bcc9c0a1868ad06ec134d4b5984dd"><div class="ttname"><a href="classvme_1_1_io32.html#a974bcc9c0a1868ad06ec134d4b5984dd">vme::Io32::start</a></div><div class="ttdeci">uint32_t start</div><div class="ttdoc">Readout start time.</div><div class="ttdef"><b>Definition:</b> <a href="_vme_8hxx_source.html#l00040">Vme.hxx:40</a></div></div>
<div class="ttc" id="classvme_1_1_io32_html_a713420ee4e829255e8e8abd4e76de4f2"><div class="ttname"><a href="classvme_1_1_io32.html#a713420ee4e829255e8e8abd4e76de4f2">vme::Io32::busy_time</a></div><div class="ttdeci">uint32_t busy_time</div><div class="ttdoc">Busy elapsed time.</div><div class="ttdef"><b>Definition:</b> <a href="_vme_8hxx_source.html#l00048">Vme.hxx:48</a></div></div>
<div class="ttc" id="classvme_1_1_io32_html_a01f1f169efce864f5e4617ead72e2d6a"><div class="ttname"><a href="classvme_1_1_io32.html#a01f1f169efce864f5e4617ead72e2d6a">vme::Io32::trigger_latch</a></div><div class="ttdeci">uint32_t trigger_latch</div><div class="ttdoc">Dragon trigger latch code.</div><div class="ttdef"><b>Definition:</b> <a href="_vme_8hxx_source.html#l00051">Vme.hxx:51</a></div></div>
<div class="ttc" id="classvme_1_1_io32_html_a2491656da7698aaafcf60e90bbe7c02c"><div class="ttname"><a href="classvme_1_1_io32.html#a2491656da7698aaafcf60e90bbe7c02c">vme::Io32::read_time</a></div><div class="ttdeci">uint32_t read_time</div><div class="ttdoc">Readout elapsed time.</div><div class="ttdef"><b>Definition:</b> <a href="_vme_8hxx_source.html#l00046">Vme.hxx:46</a></div></div>
<div class="ttc" id="classvme_1_1_io32_html_a97ce250a06c78b44dff02e3afec5a8b7"><div class="ttname"><a href="classvme_1_1_io32.html#a97ce250a06c78b44dff02e3afec5a8b7">vme::Io32::tstamp</a></div><div class="ttdeci">uint32_t tstamp</div><div class="ttdoc">Trigger timestamp.</div><div class="ttdef"><b>Definition:</b> <a href="_vme_8hxx_source.html#l00038">Vme.hxx:38</a></div></div>
<div class="ttc" id="classvme_1_1_io32_html_a15bc378ea2505fc31eaece00eaacb64a"><div class="ttname"><a href="classvme_1_1_io32.html#a15bc378ea2505fc31eaece00eaacb64a">vme::Io32::trig_count</a></div><div class="ttdeci">uint32_t trig_count</div><div class="ttdoc">Event number, counting from 0.</div><div class="ttdef"><b>Definition:</b> <a href="_vme_8hxx_source.html#l00036">Vme.hxx:36</a></div></div>
<div class="ttc" id="classvme_1_1_io32_html_ab81ba3d32d44f5b75e5046bd8be4fa03"><div class="ttname"><a href="classvme_1_1_io32.html#ab81ba3d32d44f5b75e5046bd8be4fa03">vme::Io32::tsc4</a></div><div class="ttdeci">Tsc4 tsc4</div><div class="ttdoc">TSC4 data.</div><div class="ttdef"><b>Definition:</b> <a href="_vme_8hxx_source.html#l00069">Vme.hxx:69</a></div></div>
<div class="ttc" id="_error_dragon_8hxx_html_aa74444c31806f8cf45a7d7743d845106"><div class="ttname"><a href="_error_dragon_8hxx.html#aa74444c31806f8cf45a7d7743d845106">DRAGON_ERR_FILE_LINE</a></div><div class="ttdeci">#define DRAGON_ERR_FILE_LINE</div><div class="ttdoc">For printing in-place file &amp; line messages.</div><div class="ttdef"><b>Definition:</b> <a href="_error_dragon_8hxx_source.html#l00424">ErrorDragon.hxx:424</a></div></div>
<div class="ttc" id="classvme_1_1_io32_html_a0cc3e0f1eee3797fb1deaa6cd68506c7"><div class="ttname"><a href="classvme_1_1_io32.html#a0cc3e0f1eee3797fb1deaa6cd68506c7">vme::Io32::end</a></div><div class="ttdeci">uint32_t end</div><div class="ttdoc">Readout end time.</div><div class="ttdef"><b>Definition:</b> <a href="_vme_8hxx_source.html#l00042">Vme.hxx:42</a></div></div>
<div class="ttc" id="classdragon_1_1utils_1_1_error_html"><div class="ttname"><a href="classdragon_1_1utils_1_1_error.html">dragon::utils::Error</a></div><div class="ttdoc">Specialized Strm class to print error messages.</div><div class="ttdef"><b>Definition:</b> <a href="_error_dragon_8hxx_source.html#l00177">ErrorDragon.hxx:177</a></div></div>
<div class="ttc" id="classvme_1_1_io32_html_a926b8da0c0b246eb9bd814d60e404dd8"><div class="ttname"><a href="classvme_1_1_io32.html#a926b8da0c0b246eb9bd814d60e404dd8">vme::Io32::Tsc4::fifo</a></div><div class="ttdeci">std::vector&lt; uint64_t &gt; fifo[4]</div><div class="ttdoc">TSC FIFO data.</div><div class="ttdef"><b>Definition:</b> <a href="_vme_8hxx_source.html#l00062">Vme.hxx:62</a></div></div>
<div class="ttc" id="classvme_1_1_io32_html_ad9253b3f2bcc4975037268d1957a0a2f"><div class="ttname"><a href="classvme_1_1_io32.html#ad9253b3f2bcc4975037268d1957a0a2f">vme::Io32::latency</a></div><div class="ttdeci">uint32_t latency</div><div class="ttdoc">Trigger latency.</div><div class="ttdef"><b>Definition:</b> <a href="_vme_8hxx_source.html#l00044">Vme.hxx:44</a></div></div>
<div class="ttc" id="classvme_1_1_io32_html_a274476d2e26a81c23253da958346b574"><div class="ttname"><a href="classvme_1_1_io32.html#a274476d2e26a81c23253da958346b574">vme::Io32::Tsc4::trig_time</a></div><div class="ttdeci">double trig_time</div><div class="ttdoc">Trigger time in usec.</div><div class="ttdef"><b>Definition:</b> <a href="_vme_8hxx_source.html#l00064">Vme.hxx:64</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a01f1f169efce864f5e4617ead72e2d6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01f1f169efce864f5e4617ead72e2d6a">&#9670;&nbsp;</a></span>trigger_latch</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t vme::Io32::trigger_latch</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dragon trigger latch code. </p>
<p class="">Bitmask defining which signal generated the trigger </p>

<p class="definition">Definition at line <a class="el" href="_vme_8hxx_source.html#l00051">51</a> of file <a class="el" href="_vme_8hxx_source.html">Vme.hxx</a>.</p>

</div>
</div>
<a id="aa65ec8c6f032f74811288d5cc3bc6a36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa65ec8c6f032f74811288d5cc3bc6a36">&#9670;&nbsp;</a></span>which_trigger</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t vme::Io32::which_trigger</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Which ECL input made the trigger? </p>
<p class="">Integer version of trigger_latch </p>

<p class="definition">Definition at line <a class="el" href="_vme_8hxx_source.html#l00054">54</a> of file <a class="el" href="_vme_8hxx_source.html">Vme.hxx</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/Users/dragon/packages/dragon/analyzer/src/<a class="el" href="_vme_8hxx_source.html">Vme.hxx</a></li>
<li>/Users/dragon/packages/dragon/analyzer/src/<a class="el" href="_vme_8cxx_source.html">Vme.cxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Sep 24 2018 21:18:41 for DRAGON Analyzer by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
