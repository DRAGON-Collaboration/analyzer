<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DRAGON Analyzer: dragon::Scaler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DRAGON Analyzer
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacedragon.html">dragon</a></li><li class="navelem"><a class="el" href="classdragon_1_1_scaler.html">Scaler</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classdragon_1_1_scaler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">dragon::Scaler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_dragon_8hxx_source.html">Dragon.hxx</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdragon_1_1_scaler_1_1_variables.html">Variables</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a51e9dbd735e0511314731efa09e2d5da"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdragon_1_1_scaler.html#a51e9dbd735e0511314731efa09e2d5da">Scaler</a> ()</td></tr>
<tr class="memdesc:a51e9dbd735e0511314731efa09e2d5da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize data.  <a href="#a51e9dbd735e0511314731efa09e2d5da">More...</a><br /></td></tr>
<tr class="separator:a51e9dbd735e0511314731efa09e2d5da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d21796c672761a709c6b7519f3c32cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdragon_1_1_scaler.html#a0d21796c672761a709c6b7519f3c32cc">reset</a> ()</td></tr>
<tr class="memdesc:a0d21796c672761a709c6b7519f3c32cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset all data to zero.  <a href="#a0d21796c672761a709c6b7519f3c32cc">More...</a><br /></td></tr>
<tr class="separator:a0d21796c672761a709c6b7519f3c32cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69107da349fb48a38fbdcee794bd8648"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdragon_1_1_scaler.html#a69107da349fb48a38fbdcee794bd8648">unpack</a> (const <a class="el" href="classmidas_1_1_event.html">midas::Event</a> &amp;event)</td></tr>
<tr class="memdesc:a69107da349fb48a38fbdcee794bd8648"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unpack Midas event data into scalar data structiures.  <a href="#a69107da349fb48a38fbdcee794bd8648">More...</a><br /></td></tr>
<tr class="separator:a69107da349fb48a38fbdcee794bd8648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a1eee1d81498f7df1dfbec9fe74b019"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdragon_1_1_scaler.html#a8a1eee1d81498f7df1dfbec9fe74b019">channel_name</a> (int ch) const</td></tr>
<tr class="memdesc:a8a1eee1d81498f7df1dfbec9fe74b019"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of a given scaler channel.  <a href="#a8a1eee1d81498f7df1dfbec9fe74b019">More...</a><br /></td></tr>
<tr class="separator:a8a1eee1d81498f7df1dfbec9fe74b019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c51436f6783ec03785550c65c19832e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdragon_1_1_scaler.html#a7c51436f6783ec03785550c65c19832e">set_variables</a> (const char *dbfile, const char *dir)</td></tr>
<tr class="memdesc:a7c51436f6783ec03785550c65c19832e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads all variable values from an database (file or online)  <a href="#a7c51436f6783ec03785550c65c19832e">More...</a><br /></td></tr>
<tr class="separator:a7c51436f6783ec03785550c65c19832e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51573889f1970debeba007c527519f12"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdragon_1_1_scaler.html#a51573889f1970debeba007c527519f12">set_variables</a> (const <a class="el" href="classmidas_1_1_database.html">midas::Database</a> *db, const char *dir)</td></tr>
<tr class="memdesc:a51573889f1970debeba007c527519f12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads all variable values from a constructed database.  <a href="#a51573889f1970debeba007c527519f12">More...</a><br /></td></tr>
<tr class="separator:a51573889f1970debeba007c527519f12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ef7d1d718c69786ef10b60d130045c2"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a2ef7d1d718c69786ef10b60d130045c2"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdragon_1_1_scaler.html#a2ef7d1d718c69786ef10b60d130045c2">set_aliases</a> (T *t, bool print=false) const</td></tr>
<tr class="memdesc:a2ef7d1d718c69786ef10b60d130045c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set branch alises in a ROOT TTree.  <a href="#a2ef7d1d718c69786ef10b60d130045c2">More...</a><br /></td></tr>
<tr class="separator:a2ef7d1d718c69786ef10b60d130045c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a927e9367a4e7acf06499ced6bb3eb285"><td class="memTemplParams" colspan="2">template&lt;class T , class H &gt; </td></tr>
<tr class="memitem:a927e9367a4e7acf06499ced6bb3eb285"><td class="memTemplItemLeft" align="right" valign="top">static int64_t&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdragon_1_1_scaler.html#a927e9367a4e7acf06499ced6bb3eb285">plot</a> (T *tree, const char *varexp, const char *selection=&quot;&quot;, Option_t *option=&quot;&quot;)</td></tr>
<tr class="memdesc:a927e9367a4e7acf06499ced6bb3eb285"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plot traditional scaler histograms using 1D bins.  <a href="#a927e9367a4e7acf06499ced6bb3eb285">More...</a><br /></td></tr>
<tr class="separator:a927e9367a4e7acf06499ced6bb3eb285"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:acce7784b5ed0f9e06fd7dc8fa428d08e"><td class="memItemLeft" align="right" valign="top"><a id="acce7784b5ed0f9e06fd7dc8fa428d08e"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdragon_1_1_scaler.html#acce7784b5ed0f9e06fd7dc8fa428d08e">count</a> [<a class="el" href="classdragon_1_1_scaler.html#aea83749be91543b1fa4b3c93a78ea7cd">MAX_CHANNELS</a>]</td></tr>
<tr class="memdesc:acce7784b5ed0f9e06fd7dc8fa428d08e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of counts in a single read period. <br /></td></tr>
<tr class="separator:acce7784b5ed0f9e06fd7dc8fa428d08e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06314ebdcac96b760ea9e84ab143f70f"><td class="memItemLeft" align="right" valign="top"><a id="a06314ebdcac96b760ea9e84ab143f70f"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdragon_1_1_scaler.html#a06314ebdcac96b760ea9e84ab143f70f">sum</a> [<a class="el" href="classdragon_1_1_scaler.html#aea83749be91543b1fa4b3c93a78ea7cd">MAX_CHANNELS</a>]</td></tr>
<tr class="memdesc:a06314ebdcac96b760ea9e84ab143f70f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of counts over the course of a run. <br /></td></tr>
<tr class="separator:a06314ebdcac96b760ea9e84ab143f70f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac35725bcf5aaf699770d5e63b00a04d2"><td class="memItemLeft" align="right" valign="top"><a id="ac35725bcf5aaf699770d5e63b00a04d2"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdragon_1_1_scaler.html#ac35725bcf5aaf699770d5e63b00a04d2">rate</a> [<a class="el" href="classdragon_1_1_scaler.html#aea83749be91543b1fa4b3c93a78ea7cd">MAX_CHANNELS</a>]</td></tr>
<tr class="memdesc:ac35725bcf5aaf699770d5e63b00a04d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Average count rate over the course of a run. <br /></td></tr>
<tr class="separator:ac35725bcf5aaf699770d5e63b00a04d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5026bce45929cfc1c020018960b93cb4"><td class="memItemLeft" align="right" valign="top"><a id="a5026bce45929cfc1c020018960b93cb4"></a>
<a class="el" href="classdragon_1_1_scaler_1_1_variables.html">Variables</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdragon_1_1_scaler.html#a5026bce45929cfc1c020018960b93cb4">variables</a></td></tr>
<tr class="memdesc:a5026bce45929cfc1c020018960b93cb4"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classdragon_1_1_scaler_1_1_variables.html">Variables</a> instance. <br /></td></tr>
<tr class="separator:a5026bce45929cfc1c020018960b93cb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:aea83749be91543b1fa4b3c93a78ea7cd"><td class="memItemLeft" align="right" valign="top"><a id="aea83749be91543b1fa4b3c93a78ea7cd"></a>
static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdragon_1_1_scaler.html#aea83749be91543b1fa4b3c93a78ea7cd">MAX_CHANNELS</a> = 17</td></tr>
<tr class="memdesc:aea83749be91543b1fa4b3c93a78ea7cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of scaler channels. <br /></td></tr>
<tr class="separator:aea83749be91543b1fa4b3c93a78ea7cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p class="">Generic dragon scaler class </p>

<p class="definition">Definition at line <a class="el" href="_dragon_8hxx_source.html#l00783">783</a> of file <a class="el" href="_dragon_8hxx_source.html">Dragon.hxx</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a51e9dbd735e0511314731efa09e2d5da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51e9dbd735e0511314731efa09e2d5da">&#9670;&nbsp;</a></span>Scaler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dragon::Scaler::Scaler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize data. </p>
<p class="">Calls <a class="el" href="classdragon_1_1_scaler.html#a0d21796c672761a709c6b7519f3c32cc" title="Reset all data to zero.">reset()</a> </p>

<p class="definition">Definition at line <a class="el" href="_dragon_8cxx_source.html#l01287">1287</a> of file <a class="el" href="_dragon_8cxx_source.html">Dragon.cxx</a>.</p>

<p class="reference">References <a class="el" href="_dragon_8cxx_source.html#l01294">reset()</a>.</p>
<div class="fragment"><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                    :</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  <a class="code" href="classdragon_1_1_scaler.html#a5026bce45929cfc1c020018960b93cb4">variables</a>()</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;{<span class="comment"></span></div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="comment">  /*! Calls reset() */</span></div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <a class="code" href="classdragon_1_1_scaler.html#a0d21796c672761a709c6b7519f3c32cc">reset</a>();</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;}</div><div class="ttc" id="classdragon_1_1_scaler_html_a5026bce45929cfc1c020018960b93cb4"><div class="ttname"><a href="classdragon_1_1_scaler.html#a5026bce45929cfc1c020018960b93cb4">dragon::Scaler::variables</a></div><div class="ttdeci">Variables variables</div><div class="ttdoc">Variables instance.</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8hxx_source.html#l00846">Dragon.hxx:846</a></div></div>
<div class="ttc" id="classdragon_1_1_scaler_html_a0d21796c672761a709c6b7519f3c32cc"><div class="ttname"><a href="classdragon_1_1_scaler.html#a0d21796c672761a709c6b7519f3c32cc">dragon::Scaler::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Reset all data to zero.</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8cxx_source.html#l01294">Dragon.cxx:1294</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8a1eee1d81498f7df1dfbec9fe74b019"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a1eee1d81498f7df1dfbec9fe74b019">&#9670;&nbsp;</a></span>channel_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; dragon::Scaler::channel_name </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the name of a given scaler channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ch</td><td>Channel number</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_dragon_8cxx_source.html#l01351">1351</a> of file <a class="el" href="_dragon_8cxx_source.html">Dragon.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;{<span class="comment"></span></div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;<span class="comment">  /*!</span></div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;<span class="comment">   * \param ch Channel number</span></div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <span class="keywordflow">if</span> (ch &gt;= 0 &amp;&amp; ch &lt; <a class="code" href="classdragon_1_1_scaler.html#aea83749be91543b1fa4b3c93a78ea7cd">MAX_CHANNELS</a>) <span class="keywordflow">return</span> <a class="code" href="classdragon_1_1_scaler.html#a5026bce45929cfc1c020018960b93cb4">variables</a>.<a class="code" href="classdragon_1_1_scaler_1_1_variables.html#af60b2f5bd00629ba6aa42468d2c65bd1">names</a>[ch];</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <a class="code" href="classdragon_1_1utils_1_1_error.html">dutils::Error</a>(<span class="stringliteral">&quot;dragon::Scaler::channel_name&quot;</span>, __FILE__, __LINE__)</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    &lt;&lt; <span class="stringliteral">&quot;Invalid channel number: &quot;</span> &lt;&lt; ch &lt;&lt; <span class="stringliteral">&quot;. Valid arguments are 0 &lt;= ch &lt; &quot;</span> &lt;&lt; <a class="code" href="classdragon_1_1_scaler.html#aea83749be91543b1fa4b3c93a78ea7cd">MAX_CHANNELS</a>;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <span class="keyword">static</span> std::string junk = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <span class="keywordflow">return</span> junk;</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;}</div><div class="ttc" id="classdragon_1_1_scaler_1_1_variables_html_af60b2f5bd00629ba6aa42468d2c65bd1"><div class="ttname"><a href="classdragon_1_1_scaler_1_1_variables.html#af60b2f5bd00629ba6aa42468d2c65bd1">dragon::Scaler::Variables::names</a></div><div class="ttdeci">std::string names[MAX_CHANNELS]</div><div class="ttdoc">Name of a given channel.</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8hxx_source.html#l00823">Dragon.hxx:823</a></div></div>
<div class="ttc" id="classdragon_1_1utils_1_1_error_html"><div class="ttname"><a href="classdragon_1_1utils_1_1_error.html">dragon::utils::Error</a></div><div class="ttdoc">Specialized Strm class to print error messages.</div><div class="ttdef"><b>Definition:</b> <a href="_error_dragon_8hxx_source.html#l00177">ErrorDragon.hxx:177</a></div></div>
<div class="ttc" id="classdragon_1_1_scaler_html_aea83749be91543b1fa4b3c93a78ea7cd"><div class="ttname"><a href="classdragon_1_1_scaler.html#aea83749be91543b1fa4b3c93a78ea7cd">dragon::Scaler::MAX_CHANNELS</a></div><div class="ttdeci">static const int MAX_CHANNELS</div><div class="ttdoc">Number of scaler channels.</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8hxx_source.html#l00786">Dragon.hxx:786</a></div></div>
<div class="ttc" id="classdragon_1_1_scaler_html_a5026bce45929cfc1c020018960b93cb4"><div class="ttname"><a href="classdragon_1_1_scaler.html#a5026bce45929cfc1c020018960b93cb4">dragon::Scaler::variables</a></div><div class="ttdeci">Variables variables</div><div class="ttdoc">Variables instance.</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8hxx_source.html#l00846">Dragon.hxx:846</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a927e9367a4e7acf06499ced6bb3eb285"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a927e9367a4e7acf06499ced6bb3eb285">&#9670;&nbsp;</a></span>plot()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class H &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t dragon::Scaler::plot </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>varexp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>selection</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Option_t *&#160;</td>
          <td class="paramname"><em>option</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Plot traditional scaler histograms using 1D bins. </p>
<p class="">This function creates a "traditional" DRAGON scaler histograms, where the x-axis is time and the bin counts is the number of scaler counts. If one of the <code>count[]</code> variables is plotted, then the integral of the histogram will be the integral of scaler counts across the whole run </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tree</td><td>Tree from which to plot (e.g. <code>t2</code> for head <code>t4</code> for tail) </td></tr>
    <tr><td class="paramname">varexp</td><td>Same as you would use in TTree::Draw(), i.e. <code>"count[10]&gt;&gt;hst(3600,0,3600)"</code> </td></tr>
    <tr><td class="paramname">selection</td><td>Cut selection, same as for TTree::Draw() </td></tr>
    <tr><td class="paramname">option</td><td>DrawOption, same as for TTree::Draw() </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of events plotted</dd></dl>

<p class="definition">Definition at line <a class="el" href="_dragon_8hxx_source.html#l00955">955</a> of file <a class="el" href="_dragon_8hxx_source.html">Dragon.hxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;{<span class="comment"></span></div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="comment">  /// This function creates a &quot;traditional&quot; DRAGON scaler histograms, where the x-axis is</span></div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="comment">  /// time and the bin counts is the number of scaler counts. If one of the `count[]` variables</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="comment">  /// is plotted, then the integral of the histogram will be the integral of scaler counts across the</span></div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="comment">  /// whole run</span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="comment">  /// \param tree Tree from which to plot (e.g. `t2` for head `t4` for tail)</span></div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;<span class="comment">  /// \param varexp Same as you would use in TTree::Draw(), i.e. `&quot;count[10]&gt;&gt;hst(3600,0,3600)&quot;`</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;<span class="comment">  /// \param selection Cut selection, same as for TTree::Draw()</span></div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="comment">  /// \param option DrawOption, same as for TTree::Draw()</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;<span class="comment">  /// \returns Number of events plotted</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  tree-&gt;SetEstimate(tree-&gt;GetEntries());</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  int64_t nevts = tree-&gt;Draw(varexp, selection, <span class="stringliteral">&quot;goff&quot;</span>);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  H* hst = tree-&gt;GetHistogram();</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="keywordflow">if</span>(hst == 0) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> bin = 0; bin&lt; hst-&gt;GetNbinsX() + 1; ++bin)</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    hst-&gt;SetBinContent(bin, 0);</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <span class="keywordflow">for</span>(int64_t i=0; i&lt; nevts; ++i) {</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    int64_t bin = hst-&gt;FindBin(i);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    hst-&gt;SetBinContent(bin, hst-&gt;GetBinContent(bin) + tree-&gt;GetV1()[i]);</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  }</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  hst-&gt;Draw(option);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="keywordflow">return</span> nevts;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a0d21796c672761a709c6b7519f3c32cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d21796c672761a709c6b7519f3c32cc">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dragon::Scaler::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset all data to zero. </p>
<p class="">Sets all count, rate, and sum to zero </p>

<p class="definition">Definition at line <a class="el" href="_dragon_8cxx_source.html#l01294">1294</a> of file <a class="el" href="_dragon_8cxx_source.html">Dragon.cxx</a>.</p>

<p class="reference">Referenced by <a class="el" href="_dragon_8cxx_source.html#l01438">dragon::Coinc::Coinc()</a>, <a class="el" href="_dragon_8cxx_source.html#l01550">dragon::Epics::Epics()</a>, <a class="el" href="_dragon_8cxx_source.html#l01287">Scaler()</a>, <a class="el" href="_dragon_8cxx_source.html#l01515">dragon::Coinc::Variables::Variables()</a>, and <a class="el" href="_dragon_8cxx_source.html#l01616">dragon::Epics::Variables::Variables()</a>.</p>
<div class="fragment"><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;{<span class="comment"></span></div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;<span class="comment">  /*! Sets all count, rate, and sum to zero */</span></div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  std::fill(<a class="code" href="classdragon_1_1_scaler.html#acce7784b5ed0f9e06fd7dc8fa428d08e">count</a>, <a class="code" href="classdragon_1_1_scaler.html#acce7784b5ed0f9e06fd7dc8fa428d08e">count</a> + <a class="code" href="classdragon_1_1_scaler.html#aea83749be91543b1fa4b3c93a78ea7cd">MAX_CHANNELS</a>, 0);</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  std::fill(<a class="code" href="classdragon_1_1_scaler.html#a06314ebdcac96b760ea9e84ab143f70f">sum</a>, <a class="code" href="classdragon_1_1_scaler.html#a06314ebdcac96b760ea9e84ab143f70f">sum</a> + <a class="code" href="classdragon_1_1_scaler.html#aea83749be91543b1fa4b3c93a78ea7cd">MAX_CHANNELS</a>, 0);</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  std::fill(<a class="code" href="classdragon_1_1_scaler.html#ac35725bcf5aaf699770d5e63b00a04d2">rate</a>, <a class="code" href="classdragon_1_1_scaler.html#ac35725bcf5aaf699770d5e63b00a04d2">rate</a> + <a class="code" href="classdragon_1_1_scaler.html#aea83749be91543b1fa4b3c93a78ea7cd">MAX_CHANNELS</a>, 0.);</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;}</div><div class="ttc" id="classdragon_1_1_scaler_html_acce7784b5ed0f9e06fd7dc8fa428d08e"><div class="ttname"><a href="classdragon_1_1_scaler.html#acce7784b5ed0f9e06fd7dc8fa428d08e">dragon::Scaler::count</a></div><div class="ttdeci">uint32_t count[MAX_CHANNELS]</div><div class="ttdoc">Number of counts in a single read period.</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8hxx_source.html#l00810">Dragon.hxx:810</a></div></div>
<div class="ttc" id="classdragon_1_1_scaler_html_ac35725bcf5aaf699770d5e63b00a04d2"><div class="ttname"><a href="classdragon_1_1_scaler.html#ac35725bcf5aaf699770d5e63b00a04d2">dragon::Scaler::rate</a></div><div class="ttdeci">double rate[MAX_CHANNELS]</div><div class="ttdoc">Average count rate over the course of a run.</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8hxx_source.html#l00814">Dragon.hxx:814</a></div></div>
<div class="ttc" id="classdragon_1_1_scaler_html_a06314ebdcac96b760ea9e84ab143f70f"><div class="ttname"><a href="classdragon_1_1_scaler.html#a06314ebdcac96b760ea9e84ab143f70f">dragon::Scaler::sum</a></div><div class="ttdeci">uint32_t sum[MAX_CHANNELS]</div><div class="ttdoc">Number of counts over the course of a run.</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8hxx_source.html#l00812">Dragon.hxx:812</a></div></div>
<div class="ttc" id="classdragon_1_1_scaler_html_aea83749be91543b1fa4b3c93a78ea7cd"><div class="ttname"><a href="classdragon_1_1_scaler.html#aea83749be91543b1fa4b3c93a78ea7cd">dragon::Scaler::MAX_CHANNELS</a></div><div class="ttdeci">static const int MAX_CHANNELS</div><div class="ttdoc">Number of scaler channels.</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8hxx_source.html#l00786">Dragon.hxx:786</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2ef7d1d718c69786ef10b60d130045c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ef7d1d718c69786ef10b60d130045c2">&#9670;&nbsp;</a></span>set_aliases()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dragon::Scaler::set_aliases </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>print</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set branch alises in a ROOT TTree. </p>
<p class="">Sets tree branch aliases based on variable values - results in easier to use branch names (e.g. something descriptive instead of 'scaler.sum[0]', etc.)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>Pointer to a class having a "SetAlias(const char*, const char*) method (e.g. TTree) and for which you want to set aliases. </td></tr>
    <tr><td class="paramname">branchName</td><td>"Base" name of the branch </td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Some class with a "SetAlias" method.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Intended for TTree, but defined as a template function to maintain compatability with systems that don't use ROOT. In the case that ROOT is not available and this function is never used, it simply gets ignored by the compiler. Note also, that for systems with ROOT, a CINT dictionary definition is automoatically provided for TTree as the template parameter.</dd></dl>
<p>Example: </p><div class="fragment"><div class="line"><span class="comment">// (with a dragon root file loaded)</span></div><div class="line"><a class="code" href="classdragon_1_1_scaler.html">dragon::Scaler</a> scaler;</div><div class="line">scaler.<a class="code" href="classdragon_1_1_scaler.html#a7c51436f6783ec03785550c65c19832e">set_variables</a>(<a class="code" href="classdragon_1_1_scaler.html#a5026bce45929cfc1c020018960b93cb4">variables</a>, <span class="stringliteral">&quot;head&quot;</span>)</div><div class="line">scaler.<a class="code" href="classdragon_1_1_scaler.html#a2ef7d1d718c69786ef10b60d130045c2">set_aliases</a>(t2);</div><div class="line">t2-&gt;Draw(<span class="stringliteral">&quot;count_triggers_acquired/count_triggers_presented1:Entry$&quot;</span>,<span class="stringliteral">&quot;&quot;</span>,<span class="stringliteral">&quot;L&quot;</span>)</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>Pointer to the TTree for which you want to set aliases. </td></tr>
    <tr><td class="paramname">print</td><td>If true, prints each { alias, source } pair that's set.</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_dragon_8hxx_source.html#l00911">911</a> of file <a class="el" href="_dragon_8hxx_source.html">Dragon.hxx</a>.</p>

<p class="reference">References <a class="el" href="_dragon_8hxx_source.html#l00786">MAX_CHANNELS</a>, <a class="el" href="_dragon_8hxx_source.html#l00823">dragon::Scaler::Variables::names</a>, and <a class="el" href="_dragon_8hxx_source.html#l00846">variables</a>.</p>
<div class="fragment"><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;{<span class="comment"></span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment">  /*!</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment">   * Sets tree branch aliases based on variable values - results in easier to use</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment">   * branch names (e.g. something descriptive instead of &#39;scaler.sum[0]&#39;, etc.)</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="comment">   * \param t Pointer to a class having a &quot;SetAlias(const char*, const char*) method</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="comment">   * (e.g. TTree) and for which you want to set aliases.</span></div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="comment">   * \param branchName &quot;Base&quot; name of the branch</span></div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="comment">   * \tparam T Some class with a &quot;SetAlias&quot; method.</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment">   * \note Intended for TTree, but defined as a template</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment">   * function to maintain compatability with systems that don&#39;t use ROOT. In the case that ROOT is</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment">   * not available and this function is never used, it simply gets ignored by the compiler. Note also,</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment">   * that for systems with ROOT, a CINT dictionary definition is automoatically provided for TTree</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">   * as the template parameter.</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment">   * Example:</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="comment">   * \code</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="comment">   * // (with a dragon root file loaded)</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="comment">   * dragon::Scaler scaler;</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="comment">   * scaler.set_variables(variables, &quot;head&quot;)</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="comment">   * scaler.set_aliases(t2);</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="comment">   * t2-&gt;Draw(&quot;count_triggers_acquired/count_triggers_presented1:Entry$&quot;,&quot;&quot;,&quot;L&quot;)</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="comment">   * \endcode</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="comment">   * \param t Pointer to the TTree for which you want to set aliases.</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="comment">   * \param print If true, prints each { alias, source } pair that&#39;s set.</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="keyword">const</span> std::string chNames[3] = { <span class="stringliteral">&quot;count&quot;</span>, <span class="stringliteral">&quot;sum&quot;</span>, <span class="stringliteral">&quot;rate&quot;</span> };</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt; <a class="code" href="classdragon_1_1_scaler.html#aea83749be91543b1fa4b3c93a78ea7cd">MAX_CHANNELS</a>; ++i) {</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j&lt; 3; ++j) {</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      std::stringstream oldName, newName;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      oldName &lt;&lt; chNames[j] &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      newName &lt;&lt; chNames[j] &lt;&lt; <span class="stringliteral">&quot;_&quot;</span> &lt;&lt; <a class="code" href="classdragon_1_1_scaler.html#a5026bce45929cfc1c020018960b93cb4">variables</a>.<a class="code" href="classdragon_1_1_scaler_1_1_variables.html#af60b2f5bd00629ba6aa42468d2c65bd1">names</a>[i];</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      t-&gt;SetAlias(newName.str().c_str(), oldName.str().c_str());</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <span class="keywordflow">if</span>(print) {</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Set alias \&quot;&quot;</span> &lt;&lt; newName.str() &lt;&lt; <span class="stringliteral">&quot;\&quot; == \&quot;&quot;</span> &lt;&lt; oldName.str() &lt;&lt; <span class="stringliteral">&quot;\&quot;\n&quot;</span>;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      }</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    }</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  }</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;}</div><div class="ttc" id="classdragon_1_1_scaler_1_1_variables_html_af60b2f5bd00629ba6aa42468d2c65bd1"><div class="ttname"><a href="classdragon_1_1_scaler_1_1_variables.html#af60b2f5bd00629ba6aa42468d2c65bd1">dragon::Scaler::Variables::names</a></div><div class="ttdeci">std::string names[MAX_CHANNELS]</div><div class="ttdoc">Name of a given channel.</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8hxx_source.html#l00823">Dragon.hxx:823</a></div></div>
<div class="ttc" id="classdragon_1_1_scaler_html_aea83749be91543b1fa4b3c93a78ea7cd"><div class="ttname"><a href="classdragon_1_1_scaler.html#aea83749be91543b1fa4b3c93a78ea7cd">dragon::Scaler::MAX_CHANNELS</a></div><div class="ttdeci">static const int MAX_CHANNELS</div><div class="ttdoc">Number of scaler channels.</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8hxx_source.html#l00786">Dragon.hxx:786</a></div></div>
<div class="ttc" id="classdragon_1_1_scaler_html_a5026bce45929cfc1c020018960b93cb4"><div class="ttname"><a href="classdragon_1_1_scaler.html#a5026bce45929cfc1c020018960b93cb4">dragon::Scaler::variables</a></div><div class="ttdeci">Variables variables</div><div class="ttdoc">Variables instance.</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8hxx_source.html#l00846">Dragon.hxx:846</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c51436f6783ec03785550c65c19832e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c51436f6783ec03785550c65c19832e">&#9670;&nbsp;</a></span>set_variables() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dragon::Scaler::set_variables </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dbfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads all variable values from an database (file or online) </p>
<p class="">Delegates to dragon::Scaler::Variables::Set()</p>

<p class="definition">Definition at line <a class="el" href="_dragon_8cxx_source.html#l01302">1302</a> of file <a class="el" href="_dragon_8cxx_source.html">Dragon.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;{<span class="comment"></span></div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;<span class="comment">  /*!</span></div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<span class="comment">   * Delegates to dragon::Scaler::Variables::Set()</span></div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classdragon_1_1_scaler.html#a5026bce45929cfc1c020018960b93cb4">variables</a>.<a class="code" href="classdragon_1_1_scaler_1_1_variables.html#af78b588802d82fd2670e7f05edaa5de8">set</a>(dbfile, dir);</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;}</div><div class="ttc" id="classdragon_1_1_scaler_1_1_variables_html_af78b588802d82fd2670e7f05edaa5de8"><div class="ttname"><a href="classdragon_1_1_scaler_1_1_variables.html#af78b588802d82fd2670e7f05edaa5de8">dragon::Scaler::Variables::set</a></div><div class="ttdeci">bool set(const char *dbfile, const char *dir)</div><div class="ttdoc">Set data values from an database (file or online)</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8cxx_source.html#l01390">Dragon.cxx:1390</a></div></div>
<div class="ttc" id="classdragon_1_1_scaler_html_a5026bce45929cfc1c020018960b93cb4"><div class="ttname"><a href="classdragon_1_1_scaler.html#a5026bce45929cfc1c020018960b93cb4">dragon::Scaler::variables</a></div><div class="ttdeci">Variables variables</div><div class="ttdoc">Variables instance.</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8hxx_source.html#l00846">Dragon.hxx:846</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a51573889f1970debeba007c527519f12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51573889f1970debeba007c527519f12">&#9670;&nbsp;</a></span>set_variables() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dragon::Scaler::set_variables </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmidas_1_1_database.html">midas::Database</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads all variable values from a constructed database. </p>
<p class="">Delegates to dragon::Scaler::Variables::Set()</p>

<p class="definition">Definition at line <a class="el" href="_dragon_8cxx_source.html#l01310">1310</a> of file <a class="el" href="_dragon_8cxx_source.html">Dragon.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;{<span class="comment"></span></div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;<span class="comment">  /*!</span></div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;<span class="comment">   * Delegates to dragon::Scaler::Variables::Set()</span></div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classdragon_1_1_scaler.html#a5026bce45929cfc1c020018960b93cb4">variables</a>.<a class="code" href="classdragon_1_1_scaler_1_1_variables.html#af78b588802d82fd2670e7f05edaa5de8">set</a>(db, dir);</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;}</div><div class="ttc" id="classdragon_1_1_scaler_1_1_variables_html_af78b588802d82fd2670e7f05edaa5de8"><div class="ttname"><a href="classdragon_1_1_scaler_1_1_variables.html#af78b588802d82fd2670e7f05edaa5de8">dragon::Scaler::Variables::set</a></div><div class="ttdeci">bool set(const char *dbfile, const char *dir)</div><div class="ttdoc">Set data values from an database (file or online)</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8cxx_source.html#l01390">Dragon.cxx:1390</a></div></div>
<div class="ttc" id="classdragon_1_1_scaler_html_a5026bce45929cfc1c020018960b93cb4"><div class="ttname"><a href="classdragon_1_1_scaler.html#a5026bce45929cfc1c020018960b93cb4">dragon::Scaler::variables</a></div><div class="ttdeci">Variables variables</div><div class="ttdoc">Variables instance.</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8hxx_source.html#l00846">Dragon.hxx:846</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a69107da349fb48a38fbdcee794bd8648"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69107da349fb48a38fbdcee794bd8648">&#9670;&nbsp;</a></span>unpack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dragon::Scaler::unpack </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmidas_1_1_event.html">midas::Event</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unpack Midas event data into scalar data structiures. </p>
<p class="">Unpacks scaler data directly into the various array structures.</p>

<p class="definition">Definition at line <a class="el" href="_dragon_8cxx_source.html#l01331">1331</a> of file <a class="el" href="_dragon_8cxx_source.html">Dragon.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;{<span class="comment"></span></div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="comment">  /*!</span></div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<span class="comment">   * Unpacks scaler data directly into the various array structures.</span></div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  <span class="keywordtype">bool</span> report = <span class="keyword">true</span>;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="keywordtype">int</span> bank_len;</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  uint32_t* pcount = <span class="keyword">event</span>.GetBankPointer&lt;uint32_t&gt;(<a class="code" href="classdragon_1_1_scaler.html#a5026bce45929cfc1c020018960b93cb4">variables</a>.<a class="code" href="classdragon_1_1_scaler_1_1_variables.html#a1f44e49969c4fd550a55d9033df603ab">bk_count</a>, &amp;bank_len, report, <span class="keyword">true</span>);</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  <span class="keywordflow">if</span> ( check_bank_len(<a class="code" href="classdragon_1_1_scaler.html#aea83749be91543b1fa4b3c93a78ea7cd">MAX_CHANNELS</a>, bank_len, <a class="code" href="classdragon_1_1_scaler.html#a5026bce45929cfc1c020018960b93cb4">variables</a>.<a class="code" href="classdragon_1_1_scaler_1_1_variables.html#a1f44e49969c4fd550a55d9033df603ab">bk_count</a>) )</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    std::copy(pcount, pcount + bank_len, <a class="code" href="classdragon_1_1_scaler.html#acce7784b5ed0f9e06fd7dc8fa428d08e">count</a>);</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  uint32_t* psum = <span class="keyword">event</span>.GetBankPointer&lt;uint32_t&gt;(<a class="code" href="classdragon_1_1_scaler.html#a5026bce45929cfc1c020018960b93cb4">variables</a>.<a class="code" href="classdragon_1_1_scaler_1_1_variables.html#a2079e7112bc6ddb682dce0e9d51ef790">bk_sum</a>, &amp;bank_len, report, <span class="keyword">true</span>);</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="keywordflow">if</span> ( check_bank_len(<a class="code" href="classdragon_1_1_scaler.html#aea83749be91543b1fa4b3c93a78ea7cd">MAX_CHANNELS</a>, bank_len, <a class="code" href="classdragon_1_1_scaler.html#a5026bce45929cfc1c020018960b93cb4">variables</a>.<a class="code" href="classdragon_1_1_scaler_1_1_variables.html#a2079e7112bc6ddb682dce0e9d51ef790">bk_sum</a>) )</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    std::copy(psum, psum + bank_len, <a class="code" href="classdragon_1_1_scaler.html#a06314ebdcac96b760ea9e84ab143f70f">sum</a>);</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  <span class="keywordtype">double</span>* prate = <span class="keyword">event</span>.GetBankPointer&lt;<span class="keywordtype">double</span>&gt;(<a class="code" href="classdragon_1_1_scaler.html#a5026bce45929cfc1c020018960b93cb4">variables</a>.<a class="code" href="classdragon_1_1_scaler_1_1_variables.html#ae48a670feea6d886d69146f39b814eb2">bk_rate</a>, &amp;bank_len, report, <span class="keyword">true</span>);</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="keywordflow">if</span> ( check_bank_len(<a class="code" href="classdragon_1_1_scaler.html#aea83749be91543b1fa4b3c93a78ea7cd">MAX_CHANNELS</a>, bank_len, <a class="code" href="classdragon_1_1_scaler.html#a5026bce45929cfc1c020018960b93cb4">variables</a>.<a class="code" href="classdragon_1_1_scaler_1_1_variables.html#ae48a670feea6d886d69146f39b814eb2">bk_rate</a>) )</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    std::copy(prate, prate + bank_len, <a class="code" href="classdragon_1_1_scaler.html#ac35725bcf5aaf699770d5e63b00a04d2">rate</a>);</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;}</div><div class="ttc" id="classdragon_1_1_scaler_1_1_variables_html_a1f44e49969c4fd550a55d9033df603ab"><div class="ttname"><a href="classdragon_1_1_scaler_1_1_variables.html#a1f44e49969c4fd550a55d9033df603ab">dragon::Scaler::Variables::bk_count</a></div><div class="ttdeci">midas::Bank_t bk_count</div><div class="ttdoc">count bank name</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8hxx_source.html#l00825">Dragon.hxx:825</a></div></div>
<div class="ttc" id="classdragon_1_1_scaler_html_acce7784b5ed0f9e06fd7dc8fa428d08e"><div class="ttname"><a href="classdragon_1_1_scaler.html#acce7784b5ed0f9e06fd7dc8fa428d08e">dragon::Scaler::count</a></div><div class="ttdeci">uint32_t count[MAX_CHANNELS]</div><div class="ttdoc">Number of counts in a single read period.</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8hxx_source.html#l00810">Dragon.hxx:810</a></div></div>
<div class="ttc" id="classdragon_1_1_scaler_1_1_variables_html_ae48a670feea6d886d69146f39b814eb2"><div class="ttname"><a href="classdragon_1_1_scaler_1_1_variables.html#ae48a670feea6d886d69146f39b814eb2">dragon::Scaler::Variables::bk_rate</a></div><div class="ttdeci">midas::Bank_t bk_rate</div><div class="ttdoc">rate bank name</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8hxx_source.html#l00827">Dragon.hxx:827</a></div></div>
<div class="ttc" id="classdragon_1_1_scaler_html_ac35725bcf5aaf699770d5e63b00a04d2"><div class="ttname"><a href="classdragon_1_1_scaler.html#ac35725bcf5aaf699770d5e63b00a04d2">dragon::Scaler::rate</a></div><div class="ttdeci">double rate[MAX_CHANNELS]</div><div class="ttdoc">Average count rate over the course of a run.</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8hxx_source.html#l00814">Dragon.hxx:814</a></div></div>
<div class="ttc" id="classdragon_1_1_scaler_html_a06314ebdcac96b760ea9e84ab143f70f"><div class="ttname"><a href="classdragon_1_1_scaler.html#a06314ebdcac96b760ea9e84ab143f70f">dragon::Scaler::sum</a></div><div class="ttdeci">uint32_t sum[MAX_CHANNELS]</div><div class="ttdoc">Number of counts over the course of a run.</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8hxx_source.html#l00812">Dragon.hxx:812</a></div></div>
<div class="ttc" id="classdragon_1_1_scaler_html_aea83749be91543b1fa4b3c93a78ea7cd"><div class="ttname"><a href="classdragon_1_1_scaler.html#aea83749be91543b1fa4b3c93a78ea7cd">dragon::Scaler::MAX_CHANNELS</a></div><div class="ttdeci">static const int MAX_CHANNELS</div><div class="ttdoc">Number of scaler channels.</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8hxx_source.html#l00786">Dragon.hxx:786</a></div></div>
<div class="ttc" id="classdragon_1_1_scaler_html_a5026bce45929cfc1c020018960b93cb4"><div class="ttname"><a href="classdragon_1_1_scaler.html#a5026bce45929cfc1c020018960b93cb4">dragon::Scaler::variables</a></div><div class="ttdeci">Variables variables</div><div class="ttdoc">Variables instance.</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8hxx_source.html#l00846">Dragon.hxx:846</a></div></div>
<div class="ttc" id="classdragon_1_1_scaler_1_1_variables_html_a2079e7112bc6ddb682dce0e9d51ef790"><div class="ttname"><a href="classdragon_1_1_scaler_1_1_variables.html#a2079e7112bc6ddb682dce0e9d51ef790">dragon::Scaler::Variables::bk_sum</a></div><div class="ttdeci">midas::Bank_t bk_sum</div><div class="ttdoc">sum bank name</div><div class="ttdef"><b>Definition:</b> <a href="_dragon_8hxx_source.html#l00829">Dragon.hxx:829</a></div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/Users/dragon/packages/dragon/analyzer/src/<a class="el" href="_dragon_8hxx_source.html">Dragon.hxx</a></li>
<li>/Users/dragon/packages/dragon/analyzer/src/<a class="el" href="_dragon_8cxx_source.html">Dragon.cxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Sep 24 2018 21:18:40 for DRAGON Analyzer by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
